<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpusFile: Stream Information</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="opus_logo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">OpusFile<span id="projectnumber">&#160;0.0</span>
   </div>
   <div id="projectbrief">Stand-alone decoder library for .opus files.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__stream__info.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Stream Information </div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-member-group" class="groupheader"><a id="member-group" name="member-group"></a>
Functions for obtaining information about streams</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>These functions allow you to get basic information about a stream, including seekability, the number of links (for chained streams), plus the size, duration, bitrate, header parameters, and meta information for each link (or, where available, the stream as a whole).</p>
<p>Some of these (size, duration) are only available for seekable streams. You can also query the current stream position, link, and playback time, and instantaneous bitrate during playback.</p>
<p>Some of these functions may be used successfully on the partially open streams returned by <a class="el" href="group__stream__open__close.html#ga32d653f708925ae0f70965b66aef030c" title="Partially open a stream using the given set of callbacks to access it.">op_test_callbacks()</a> or one of the associated convenience functions. Their documention will indicate so explicitly. </p>
</td></tr>
<tr class="memitem:ga9272a4a6ac9e01fbc549008f5ff58b4c" id="r_ga9272a4a6ac9e01fbc549008f5ff58b4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9272a4a6ac9e01fbc549008f5ff58b4c">op_seekable</a> (const OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga9272a4a6ac9e01fbc549008f5ff58b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether or not the stream being read is seekable.  <br /></td></tr>
<tr class="memitem:gaaf6ff40725a8bc7e73c9d396ab91837d" id="r_gaaf6ff40725a8bc7e73c9d396ab91837d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaf6ff40725a8bc7e73c9d396ab91837d">op_link_count</a> (const OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gaaf6ff40725a8bc7e73c9d396ab91837d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of links in this chained stream.  <br /></td></tr>
<tr class="memitem:ga41992ce6f066e07609e5fe2ccd961f40" id="r_ga41992ce6f066e07609e5fe2ccd961f40"><td class="memItemLeft" align="right" valign="top">opus_uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga41992ce6f066e07609e5fe2ccd961f40">op_serialno</a> (const OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga41992ce6f066e07609e5fe2ccd961f40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the serial number of the given link in a (possibly-chained) Ogg Opus stream.  <br /></td></tr>
<tr class="memitem:ga42c829e67c0ce8359bfbfc31a45c04f4" id="r_ga42c829e67c0ce8359bfbfc31a45c04f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga42c829e67c0ce8359bfbfc31a45c04f4">op_channel_count</a> (const OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga42c829e67c0ce8359bfbfc31a45c04f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the channel count of the given link in a (possibly-chained) Ogg Opus stream.  <br /></td></tr>
<tr class="memitem:gaa433bdeab96315d315269b60ba52b877" id="r_gaa433bdeab96315d315269b60ba52b877"><td class="memItemLeft" align="right" valign="top">opus_int64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa433bdeab96315d315269b60ba52b877">op_raw_total</a> (const OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gaa433bdeab96315d315269b60ba52b877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total (compressed) size of the stream, or of an individual link in a (possibly-chained) Ogg Opus stream, including all headers and Ogg muxing overhead.  <br /></td></tr>
<tr class="memitem:ga8c228c3d95f2c903ad6cfd2b78d8dad6" id="r_ga8c228c3d95f2c903ad6cfd2b78d8dad6"><td class="memItemLeft" align="right" valign="top">ogg_int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8c228c3d95f2c903ad6cfd2b78d8dad6">op_pcm_total</a> (const OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga8c228c3d95f2c903ad6cfd2b78d8dad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total PCM length (number of samples at 48 kHz) of the stream, or of an individual link in a (possibly-chained) Ogg Opus stream.  <br /></td></tr>
<tr class="memitem:gacc618acf40e3aec208639c3c9197347a" id="r_gacc618acf40e3aec208639c3c9197347a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_opus_head.html">OpusHead</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacc618acf40e3aec208639c3c9197347a">op_head</a> (const OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gacc618acf40e3aec208639c3c9197347a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ID header information for the given link in a (possibly chained) Ogg Opus stream.  <br /></td></tr>
<tr class="memitem:gab1e3ee44533ba4af247ddee0cbc6759b" id="r_gab1e3ee44533ba4af247ddee0cbc6759b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_opus_tags.html">OpusTags</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab1e3ee44533ba4af247ddee0cbc6759b">op_tags</a> (const OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gab1e3ee44533ba4af247ddee0cbc6759b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the comment header information for the given link in a (possibly chained) Ogg Opus stream.  <br /></td></tr>
<tr class="memitem:gabd97a260a6740ea7c2c59ca9ecd592bf" id="r_gabd97a260a6740ea7c2c59ca9ecd592bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabd97a260a6740ea7c2c59ca9ecd592bf">op_current_link</a> (const OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gabd97a260a6740ea7c2c59ca9ecd592bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the index of the current link.  <br /></td></tr>
<tr class="memitem:ga2778b161df6d07abdd642f1a4802cc1c" id="r_ga2778b161df6d07abdd642f1a4802cc1c"><td class="memItemLeft" align="right" valign="top">opus_int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2778b161df6d07abdd642f1a4802cc1c">op_bitrate</a> (const OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga2778b161df6d07abdd642f1a4802cc1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the bitrate of the stream, or of an individual link in a (possibly-chained) Ogg Opus stream.  <br /></td></tr>
<tr class="memitem:ga7e9e871615055673d5e3c7b4c1dfce80" id="r_ga7e9e871615055673d5e3c7b4c1dfce80"><td class="memItemLeft" align="right" valign="top">opus_int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7e9e871615055673d5e3c7b4c1dfce80">op_bitrate_instant</a> (OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga7e9e871615055673d5e3c7b4c1dfce80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the instantaneous bitrate, measured as the ratio of bits to playable samples decoded since a) the last call to <a class="el" href="#ga7e9e871615055673d5e3c7b4c1dfce80" title="Compute the instantaneous bitrate, measured as the ratio of bits to playable samples decoded since a)...">op_bitrate_instant()</a>, b) the last seek, or c) the start of playback, whichever was most recent.  <br /></td></tr>
<tr class="memitem:gab857684ab149c6225884ad94c3787561" id="r_gab857684ab149c6225884ad94c3787561"><td class="memItemLeft" align="right" valign="top">opus_int64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab857684ab149c6225884ad94c3787561">op_raw_tell</a> (const OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gab857684ab149c6225884ad94c3787561"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the current value of the position indicator for <em class="arg">_of</em>.  <br /></td></tr>
<tr class="memitem:gae07b8e40d883cd2a43edfec8c5bfa205" id="r_gae07b8e40d883cd2a43edfec8c5bfa205"><td class="memItemLeft" align="right" valign="top">ogg_int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae07b8e40d883cd2a43edfec8c5bfa205">op_pcm_tell</a> (const OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gae07b8e40d883cd2a43edfec8c5bfa205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the PCM offset of the next sample to be read.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga9272a4a6ac9e01fbc549008f5ff58b4c" name="ga9272a4a6ac9e01fbc549008f5ff58b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9272a4a6ac9e01fbc549008f5ff58b4c">&#9670;&#160;</a></span>op_seekable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int op_seekable </td>
          <td>(</td>
          <td class="paramtype">const OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether or not the stream being read is seekable. </p>
<p>This is true if </p><ol>
<li>
The <a class="el" href="group__stream__callbacks.html#gae57cb396d1f193d3f4e7e56ddad7760e">seek()</a> and <a class="el" href="group__stream__callbacks.html#gaca012812dea4bc3a27b0c23575efecaf">tell()</a> callbacks are both non-<code>NULL</code>, </li>
<li>
The <a class="el" href="group__stream__callbacks.html#gae57cb396d1f193d3f4e7e56ddad7760e">seek()</a> callback was successfully executed at least once, and </li>
<li>
The <a class="el" href="group__stream__callbacks.html#gaca012812dea4bc3a27b0c23575efecaf">tell()</a> callback was successfully able to report the position indicator afterwards. </li>
</ol>
<p>This function may be called on partially-opened streams. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> whose seekable status is to be returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero value if seekable, and 0 if unseekable. </dd></dl>

</div>
</div>
<a id="gaaf6ff40725a8bc7e73c9d396ab91837d" name="gaaf6ff40725a8bc7e73c9d396ab91837d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf6ff40725a8bc7e73c9d396ab91837d">&#9670;&#160;</a></span>op_link_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int op_link_count </td>
          <td>(</td>
          <td class="paramtype">const OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of links in this chained stream. </p>
<p>This function may be called on partially-opened streams, but it will always return 1. The actual number of links is not known until the stream is fully opened. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the link count. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>For fully-open seekable streams, this returns the total number of links in the whole stream, which will be at least 1. For partially-open or unseekable streams, this always returns 1. </dd></dl>

</div>
</div>
<a id="ga41992ce6f066e07609e5fe2ccd961f40" name="ga41992ce6f066e07609e5fe2ccd961f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41992ce6f066e07609e5fe2ccd961f40">&#9670;&#160;</a></span>op_serialno()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">opus_uint32 op_serialno </td>
          <td>(</td>
          <td class="paramtype">const OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>_li</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the serial number of the given link in a (possibly-chained) Ogg Opus stream. </p>
<p>This function may be called on partially-opened streams, but it will always return the serial number of the Opus stream in the first link. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the serial number. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose serial number should be retrieved. Use a negative number to get the serial number of the current link. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The serial number of the given link. If <em class="arg">_li</em> is greater than the total number of links, this returns the serial number of the last link. If the stream is not seekable, this always returns the serial number of the current link. </dd></dl>

</div>
</div>
<a id="ga42c829e67c0ce8359bfbfc31a45c04f4" name="ga42c829e67c0ce8359bfbfc31a45c04f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42c829e67c0ce8359bfbfc31a45c04f4">&#9670;&#160;</a></span>op_channel_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int op_channel_count </td>
          <td>(</td>
          <td class="paramtype">const OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>_li</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the channel count of the given link in a (possibly-chained) Ogg Opus stream. </p>
<p>This is equivalent to <code>op_head(_of,_li)-&gt;channel_count</code>, but is provided for convenience. This function may be called on partially-opened streams, but it will always return the channel count of the Opus stream in the first link. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the channel count. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose channel count should be retrieved. Use a negative number to get the channel count of the current link. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The channel count of the given link. If <em class="arg">_li</em> is greater than the total number of links, this returns the channel count of the last link. If the stream is not seekable, this always returns the channel count of the current link. </dd></dl>

</div>
</div>
<a id="gaa433bdeab96315d315269b60ba52b877" name="gaa433bdeab96315d315269b60ba52b877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa433bdeab96315d315269b60ba52b877">&#9670;&#160;</a></span>op_raw_total()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">opus_int64 op_raw_total </td>
          <td>(</td>
          <td class="paramtype">const OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>_li</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total (compressed) size of the stream, or of an individual link in a (possibly-chained) Ogg Opus stream, including all headers and Ogg muxing overhead. </p>
<dl class="section warning"><dt>Warning</dt><dd>If the Opus stream (or link) is concurrently multiplexed with other logical streams (e.g., video), this returns the size of the entire stream (or link), not just the number of bytes in the first logical Opus stream. Returning the latter would require scanning the entire file. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the compressed size. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose compressed size should be computed. Use a negative number to get the compressed size of the entire stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The compressed size of the entire stream if <em class="arg">_li</em> is negative, the compressed size of link <em class="arg">_li</em> if it is non-negative, or a negative value on error. The compressed size of the entire stream may be smaller than that of the underlying stream if trailing garbage was detected in the file. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream is not seekable (so we can't know the length), <em class="arg">_li</em> wasn't less than the total number of links in the stream, or the stream was only partially open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8c228c3d95f2c903ad6cfd2b78d8dad6" name="ga8c228c3d95f2c903ad6cfd2b78d8dad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8c228c3d95f2c903ad6cfd2b78d8dad6">&#9670;&#160;</a></span>op_pcm_total()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ogg_int64_t op_pcm_total </td>
          <td>(</td>
          <td class="paramtype">const OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>_li</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total PCM length (number of samples at 48 kHz) of the stream, or of an individual link in a (possibly-chained) Ogg Opus stream. </p>
<p>Users looking for <code>op_time_total()</code> should use <a class="el" href="#ga8c228c3d95f2c903ad6cfd2b78d8dad6" title="Get the total PCM length (number of samples at 48 kHz) of the stream, or of an individual link in a (...">op_pcm_total()</a> instead. Because timestamps in Opus are fixed at 48 kHz, there is no need for a separate function to convert this to seconds (and leaving it out avoids introducing floating point to the API, for those that wish to avoid it). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the PCM offset. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose PCM length should be computed. Use a negative number to get the PCM length of the entire stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The PCM length of the entire stream if <em class="arg">_li</em> is negative, the PCM length of link <em class="arg">_li</em> if it is non-negative, or a negative value on error. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream is not seekable (so we can't know the length), <em class="arg">_li</em> wasn't less than the total number of links in the stream, or the stream was only partially open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gacc618acf40e3aec208639c3c9197347a" name="gacc618acf40e3aec208639c3c9197347a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc618acf40e3aec208639c3c9197347a">&#9670;&#160;</a></span>op_head()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_opus_head.html">OpusHead</a> * op_head </td>
          <td>(</td>
          <td class="paramtype">const OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>_li</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ID header information for the given link in a (possibly chained) Ogg Opus stream. </p>
<p>This function may be called on partially-opened streams, but it will always return the ID header information of the Opus stream in the first link. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the ID header information. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose ID header information should be retrieved. Use a negative number to get the ID header information of the current link. For an unseekable stream, <em class="arg">_li</em> is ignored, and the ID header information for the current link is always returned, if available. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The contents of the ID header for the given link. </dd></dl>

</div>
</div>
<a id="gab1e3ee44533ba4af247ddee0cbc6759b" name="gab1e3ee44533ba4af247ddee0cbc6759b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab1e3ee44533ba4af247ddee0cbc6759b">&#9670;&#160;</a></span>op_tags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_opus_tags.html">OpusTags</a> * op_tags </td>
          <td>(</td>
          <td class="paramtype">const OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>_li</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the comment header information for the given link in a (possibly chained) Ogg Opus stream. </p>
<p>This function may be called on partially-opened streams, but it will always return the tags from the Opus stream in the first link. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the comment header information. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose comment header information should be retrieved. Use a negative number to get the comment header information of the current link. For an unseekable stream, <em class="arg">_li</em> is ignored, and the comment header information for the current link is always returned, if available. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The contents of the comment header for the given link, or <code>NULL</code> if this is an unseekable stream that encountered an invalid link. </dd></dl>

</div>
</div>
<a id="gabd97a260a6740ea7c2c59ca9ecd592bf" name="gabd97a260a6740ea7c2c59ca9ecd592bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabd97a260a6740ea7c2c59ca9ecd592bf">&#9670;&#160;</a></span>op_current_link()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int op_current_link </td>
          <td>(</td>
          <td class="paramtype">const OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the index of the current link. </p>
<p>This is the link that produced the data most recently read by <a class="el" href="group__stream__decoding.html#ga73493002d84a234f5e19b70f1dddbe2a" title="Reads more samples from the stream.">op_read_float()</a> or its associated functions, or, after a seek, the link that the seek target landed in. Reading more data may advance the link index (even on the first read after a seek). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the current link index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the current link on success, or a negative value on failure. For seekable streams, this is a number between 0 (inclusive) and the value returned by <a class="el" href="#gaaf6ff40725a8bc7e73c9d396ab91837d" title="Returns the number of links in this chained stream.">op_link_count()</a> (exclusive). For unseekable streams, this value starts at 0 and increments by one each time a new link is encountered (even though <a class="el" href="#gaaf6ff40725a8bc7e73c9d396ab91837d" title="Returns the number of links in this chained stream.">op_link_count()</a> always returns 1). </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2778b161df6d07abdd642f1a4802cc1c" name="ga2778b161df6d07abdd642f1a4802cc1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2778b161df6d07abdd642f1a4802cc1c">&#9670;&#160;</a></span>op_bitrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">opus_int32 op_bitrate </td>
          <td>(</td>
          <td class="paramtype">const OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>_li</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the bitrate of the stream, or of an individual link in a (possibly-chained) Ogg Opus stream. </p>
<p>The stream must be seekable to compute the bitrate. For unseekable streams, use <a class="el" href="#ga7e9e871615055673d5e3c7b4c1dfce80" title="Compute the instantaneous bitrate, measured as the ratio of bits to playable samples decoded since a)...">op_bitrate_instant()</a> to get periodic estimates. </p><dl class="section warning"><dt>Warning</dt><dd>If the Opus stream (or link) is concurrently multiplexed with other logical streams (e.g., video), this uses the size of the entire stream (or link) to compute the bitrate, not just the number of bytes in the first logical Opus stream. Returning the latter requires scanning the entire file, but this may be done by decoding the whole file and calling <a class="el" href="#ga7e9e871615055673d5e3c7b4c1dfce80" title="Compute the instantaneous bitrate, measured as the ratio of bits to playable samples decoded since a)...">op_bitrate_instant()</a> once at the end. Install a trivial decoding callback with <a class="el" href="group__stream__decoding.html#gae0d5b986dff23a82b6002915268ee3d1" title="Sets the packet decode callback function.">op_set_decode_callback()</a> if you wish to skip actual decoding during this process. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the bitrate. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose bitrate should be computed. Use a negative number to get the bitrate of the whole stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The bitrate on success, or a negative value on error. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open, the stream was not seekable, or <em class="arg">_li</em> was larger than the number of links. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7e9e871615055673d5e3c7b4c1dfce80" name="ga7e9e871615055673d5e3c7b4c1dfce80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e9e871615055673d5e3c7b4c1dfce80">&#9670;&#160;</a></span>op_bitrate_instant()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">opus_int32 op_bitrate_instant </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the instantaneous bitrate, measured as the ratio of bits to playable samples decoded since a) the last call to <a class="el" href="#ga7e9e871615055673d5e3c7b4c1dfce80" title="Compute the instantaneous bitrate, measured as the ratio of bits to playable samples decoded since a)...">op_bitrate_instant()</a>, b) the last seek, or c) the start of playback, whichever was most recent. </p>
<p>This will spike somewhat after a seek or at the start/end of a chain boundary, as pre-skip, pre-roll, and end-trimming causes samples to be decoded but not played. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the bitrate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The bitrate, in bits per second, or a negative value on error. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga4fd28e64a5cbe5e0ba163916199611a5" title="A request did not succeed.">OP_FALSE</a></td><td>No data has been decoded since any of the events described above. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab857684ab149c6225884ad94c3787561" name="gab857684ab149c6225884ad94c3787561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab857684ab149c6225884ad94c3787561">&#9670;&#160;</a></span>op_raw_tell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">opus_int64 op_raw_tell </td>
          <td>(</td>
          <td class="paramtype">const OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain the current value of the position indicator for <em class="arg">_of</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the position indicator. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The byte position that is currently being read from. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae07b8e40d883cd2a43edfec8c5bfa205" name="gae07b8e40d883cd2a43edfec8c5bfa205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae07b8e40d883cd2a43edfec8c5bfa205">&#9670;&#160;</a></span>op_pcm_tell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ogg_int64_t op_pcm_tell </td>
          <td>(</td>
          <td class="paramtype">const OggOpusFile *</td>          <td class="paramname"><span class="paramname"><em>_of</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain the PCM offset of the next sample to be read. </p>
<p>If the stream is not properly timestamped, this might not increment by the proper amount between reads, or even return monotonically increasing values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the PCM offset. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The PCM offset of the next sample to be read. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
